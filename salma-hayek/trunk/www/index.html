<html>
<head>
<title>Salma Hayek</title>
<link rel="stylesheet" type="text/css" href="/salma-hayek/styles.css" />
</head>
<body>
<!--#include virtual="/salma-hayek/header.html" -->

<h1>Salma Hayek</h1>

<h2>What?</h2>

<p>I needed a name for a repository containing useful Java classes shared
by several projects. I couldn't think of a good name, so I went for a nice
name instead.

<p>This page is incomplete, but should give you some idea of what's available.

<h2>PTextArea</h2>
<p>One of the bigger things we offer is a high-performance text area. It's
single-font, like JTextArea, but it's multi-color, like JTextPane. It has
none of JTextPane's performance problems, though, and it has a fairly simple
interface for adding custom colorers for file types you care about. It comes
with colorers for popular languages such as C++, Java, and Ruby.

<p>Another big feature is built-in spelling checker support. It's even
clever enough to check camelCaseWords if you're editing source, and also
offers support for custom exception lists. It's fast, too, and unlike (say)
Apple's built-in spelling checker is fast enough to check a whole document
when you open it or paste, rather than waiting for you to move the caret out
of a word before checking it.

<p>There's also support for hyperlinks, both of the mailer kind where (say)
http://www.google.com/ is automatically turned into a link, but also in
more sophisticated applications where you want arbitrary recognized text to
be turned into a link to some function of the recognized text. Edit and SCM use
this to link to bug databases and RFCs, for example, so that simply saying
"Sun 6227617" or "RFC 2229" in a comment (or in this document as I'm writing
it) is enough to get you a link to the relevant document.

<h2>Forms</h2>
<p>Our forms package is also really useful. We think it's the best and easiest
way to create dialogs. All the dialogs in all of our programs are produced this
way, with a minimal amount of code. There's automatic support for all the
features you'd expect, and it's even really easy to add "advanced"
functionality like fields that search as-you-type.

<h2>Build System</h2>
<p>Disappointed by the amount of boilerplate nonsense required by the likes of
Ant, and disappointed by the relatively small amount of work such tools
actually do for you, we've developed quite a sophisticated build system. It
uses GNU make, but don't let that scare you: the whole point is that you
can write pretty much anything (pure Java, Java + JNI, pure C++) and it'll
do all the work for you.

<p>If you want, we can also automatically generate installable distributions.
For Mac users, we create Mac ".app" bundles (containing
universal binaries for Intel and PowerPC) and compress them into ".dmg"
files ready for distribution. For Linux users, we create ".deb" and ".rpm" packages.
For MS&nbsp;Windows users, we create ".msi" installers.

<p>If you look at the "Makefile" at the top of any of our projects, you'll see
that none of them requires more than a single "include" line. That's it!

<h2>JavaHpp: <tt>javah(1)</tt> for C++ Programmers</h2>
<p>Write your JNI code in C++ for improved clarity and correctness. See <a href="http://elliotth.blogspot.com/2005/06/better-jni-through-c.html">Better JNI through C++</a> for the original motivation.
In a nutshell, we generate a C++ class corresponding to the Java class, and automatically write C functions to call the appropriate member function on the C++ class. There's a member function for every native method, that you need to implement. There's a member variable for every field that proxies for the actual Java object's corresponding field, so you can read and write the field as if it were a C++ member variable. C++ exceptions thrown in your JNI code are translated to Java exceptions.

<p>See the Terminator source for a good example of this in use.

<h2>Download</h2>

<p>The source distribution is here (<a href="salma-hayek.tar.gz">salma-hayek.tar.gz</a>).

<p>The <a href="ChangeLog.html">salma-hayek ChangeLog</a> is available separately.

<p>Debian packages for some of our projects are available.  Pasting this is how you might install them all, though be aware of the security implications:
<pre>sudo bash &lt;&lt;EOF
echo deb <a href="../debian/">http://software.jessies.org/debian/</a> ./ >> /etc/apt/sources.list
EOF
wget -O - <a href="../debian/software.jessies.org.gpg">http://software.jessies.org/debian/software.jessies.org.gpg</a> | sudo apt-key add -
sudo aptitude update
sudo aptitude install ~norg.jessies.
</pre>

<a name="building-from-source"></a>
<h2>Building from source</h2>

<h3>All Platforms</h3>

<p>You need Java 5 or later. A JRE is enough to run our projects, but you need a JDK to build them.

<p>Even running our projects requires Ruby 1.8 or later.

<p>You need GNU make 3.81 or later to build from source.
The makefile will tell you what to do if you try to build with an old version.

<p>To build the C++ parts, you'll need g++.

<h3>Mac OS</h3>

<p>You need Mac OS 10.4 or later, and the latest Apple Java 5, available via Software Update.

<p>You need the command-line tools supplied with Xcode 2.2.1 or later. Xcode 2.3 is available as a <a href="http://developer.apple.com/tools/download/">free download from Apple</a>. Note that running the Xcode installer will overwrite <tt>/usr/bin/make</tt> with version 3.80, so you need to upgrade to GNU make 3.81 <i>after</i> upgrading Xcode.

<p>All builds are universal, suitable for Intel and PowerPC Macs.

<h3>Windows</h3>

<p>To build the Windows installer, you need Microsoft's open source Windows installer compiler, <a href="http://sourceforge.net/projects/wix/">WiX</a>, installed and on your path.

<p>If you see this error when building on Cygwin:
<pre>
light.exe : error LGHT0001 : COM object with CLSID {F94985D5-29F9-4743-9805-99BC3F35B678} is either not valid or not registered.
</pre>
you also need MergeMod.dll to be installed and registered.
This appears to be part of the free <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=A55B6B43-E24F-4EA3-A93E-40C0EC4F68E5&amp;displaylang=en">Microsoft Windows Platform SDK</a> among other things.
This is how you register the COM object, according to <a href="http://support.microsoft.com/kb/329214/EN-US/">the instructions</a>, once it's installed:
<pre>
regsvr32 "C:\Program Files\Microsoft Platform SDK\Bin\MergeMod.Dll"
</pre>

<!--#include virtual="/salma-hayek/footer.html" -->
</body>
</html>
