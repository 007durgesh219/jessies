Items to be done for PTextArea:

* Compounding adjacent edits? Is there a behavior that we'd actually want? I usually find this more annoying than useful, even if it does save space.

* Refactor the way split lines are updated to work in terms of PLineSegments.

* Auto-scroll on selection (all types) flickers more than I think it should when there's a wrapped line.

* the following JTextArea methods are thread-safe: append, insert, replace, and setText.

* Try to get rid of the "get methods which aren't" in the indentation code, perhaps by none, one or more ideas from this week's guest publication:

  class SourceLine {
    Indentation indentation;
    String code;
  }

  CommentUtilities.stripDoubleSlashComment

* Improve PNewlineInserter:

  (1) int fn(|P0 a0) {
    
       should become:
       
       int fn(
         P0 a0
       ) {

       This is waiting for a good idea.  That may come in the form of generalizing the problem or of deciding on an elegant way to implement it.
       
  (2) Exclude comments etc from the code which finds the mismatched brackets whose partners should be inserted.

* [2005-06-18 16:11:10 PDT] Wrapping of lines with tabs is broken in PTextArea:

    private void setLineWidth(PLineList.Line line) {
        line.setWidth(metrics.stringWidth(line.getContents().toString()));
    }

  that's not the width of the line, and never has been. so presumably we've only ever wrapped lines with tabs right when they've been very much longer than the width of the window. (because then we'll measure them properly, and thus wrap them correctly, despite being mistaken about how necessary it was to do so.)

* [RFE] something i read suggested that you can get Xcode to wrap in such a way that it starts drawing wrapped lines at the level of the previous line's indent. so:

  |----------------window width--------------|
  class C {
    void f() {
      if (a) {
        // this is a long comment up to the---
  ------wrap mark. the editor indents the-----
  ------wrapped line. i reckon this would-----
  ------stop me from writing multi-line-------
  ------C++-style comments and implying a-----
  ------wrap width that isn't necessarily-----
  ------what the reader's using.
        g();
      }
    }
  }

  (only you'll have to imagine that the runs of '-' are our current wrap indicator.)

  this may be another case of misunderstanding into something better than what was meant, but that sounds like an interesting idea.

General stuff:

* Here's a really cool auto-update system (for Cocoa) that it would be nice to imitate: 
  http://www.andymatuschak.org/articles/2006/01/09/introducing-sparkle-easy-self-updates-for-all
